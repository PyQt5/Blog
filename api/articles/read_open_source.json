{"author":"人间白头　","title":"像读文章一样读源码","slug":"read_open_source","date":"2019-07-07 01:37:22","updated":"2020-02-21T15:24:35.837Z","comments":true,"path":"api/articles/read_open_source.json","url":"https://pyqt5.com/read_open_source.html","excerpt":"使用snoop, 像读文章一样读源码。","covers":["https://upload-images.jianshu.io/upload_images/10769157-b274b7acaecf49bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-1304cc87fcd42cae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-74129f6a6c303b25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-ae946c117a082c24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-8f6fee2356d7071d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-c39d01a02149e808.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","https://upload-images.jianshu.io/upload_images/10769157-aef5704c36824dcc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"],"content":"<p>使用snoop, 像读文章一样读源码。</p>\n<a id=\"more\"></a>\n<p>不得不说 开源项目没有一个提纲 ， 看起来太操蛋了。问了作者， 作者说 ， 你运行下主函数， 然后慢慢跟 。。。<br><img src=\"https://upload-images.jianshu.io/upload_images/10769157-b274b7acaecf49bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>没有目的地概览 ， 不知不觉就追究到细节里面去了。</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/10769157-1304cc87fcd42cae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>所以这一篇文章的目地就是 ， 如何在没有提纲的情况下 ， 能更好的只关注流程 ， 而不是细节 。 </p>\n<p>开始 ： </p>\n<ol>\n<li>python DEBUG 模块介绍 :<br>　前段时间看过挺多文章提到pysoonper这个调试模块 , 有兴趣的可以百度一下.<br>个人尝试了一下 , 篇幅过大的DEBUG不适合用 pysoonper , 因为没有缩进 !<br>　这几天偶然遇到一个二次封装的模块<a href=\"[https://github.com/alexmojaki/snoop](https://github.com/alexmojaki/snoop\">snoop</a><br>), 完美地解决了这个问题.</li>\n<li>操作步骤 : </li>\n</ol>\n<ul>\n<li>1 .  在<code>eric6.py</code>的<code>main()</code>函数上加snoop装饰器;<br><img src=\"https://upload-images.jianshu.io/upload_images/10769157-74129f6a6c303b25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></li>\n<li>2 . 用vscode 打开 <code>eric6start_.log</code>  文件 (8层深度log文件34W行, pycharm对大文件支持很差);<br><img src=\"https://upload-images.jianshu.io/upload_images/10769157-ae946c117a082c24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"log文件\"></li>\n</ul>\n<p>发现可以折叠 ， 但是最大可折叠等级只到5级 ， 而且无法对对应等级折叠 ， 有点遗憾 。也许是.log格式选得不太好， 不知道是否有更好的后缀格式。</p>\n<ul>\n<li>3 . vscode配置log文件关键字高亮；<br>安装高亮插件<br><img src=\"https://upload-images.jianshu.io/upload_images/10769157-8f6fee2356d7071d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>配置高亮关键字<br><img src=\"https://upload-images.jianshu.io/upload_images/10769157-a135fd015409b3da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></li>\n</ul>\n<p>将<code>call</code> 和<code>return</code> 给加进去.</p>\n<ul>\n<li>4 .增加阶段关键字；</li>\n</ul>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/10769157-c39d01a02149e808.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"eric6启动阶段\"></p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/10769157-aef5704c36824dcc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<p>加<code>#000</code> 是为了方便搜索 。<br>需要自己手动折叠 。<br>可以发现 每个<code>splash.showMessage()</code> 都是一个阶段 ， 展开折叠之后就是每个阶段具体执行细节 。 </p>\n<hr>\n<h3 id=\"ps-vscode-阅读log文件还是有一些不方便的地方-除了在2-中提到的-还有包括关闭文件再打开-折叠状态不会保留-有其他更好的方式-请留言告诉我-谢谢\"><a href=\"#ps-vscode-阅读log文件还是有一些不方便的地方-除了在2-中提到的-还有包括关闭文件再打开-折叠状态不会保留-有其他更好的方式-请留言告诉我-谢谢\" class=\"headerlink\" title=\"ps: vscode 阅读log文件还是有一些不方便的地方 , 除了在2.中提到的, 还有包括关闭文件再打开, 折叠状态不会保留 , 有其他更好的方式 请留言告诉我 , 谢谢.\"></a>ps: vscode 阅读log文件还是有一些不方便的地方 , 除了在2.中提到的, 还有包括关闭文件再打开, 折叠状态不会保留 , 有其他更好的方式 请留言告诉我 , 谢谢.</h3>","raw":"---\nauthor: 人间白头　\ntitle: 像读文章一样读源码\ndate: 2019-07-07 01:37:22\ntop: 1\ntags:\n - Python\n - debug\n - snoop\ncategories: 随笔\n---\n\n使用snoop, 像读文章一样读源码。\n\n<!-- more -->\n\n不得不说 开源项目没有一个提纲 ， 看起来太操蛋了。问了作者， 作者说 ， 你运行下主函数， 然后慢慢跟 。。。\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-b274b7acaecf49bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n没有目的地概览 ， 不知不觉就追究到细节里面去了。\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-1304cc87fcd42cae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n所以这一篇文章的目地就是 ， 如何在没有提纲的情况下 ， 能更好的只关注流程 ， 而不是细节 。 \n\n开始 ： \n1. python DEBUG 模块介绍 : \n　前段时间看过挺多文章提到pysoonper这个调试模块 , 有兴趣的可以百度一下.\n个人尝试了一下 , 篇幅过大的DEBUG不适合用 pysoonper , 因为没有缩进 !\n　这几天偶然遇到一个二次封装的模块[snoop]([https://github.com/alexmojaki/snoop](https://github.com/alexmojaki/snoop)\n), 完美地解决了这个问题.\n2. 操作步骤 : \n\n- 1 .  在`eric6.py`的`main()`函数上加snoop装饰器;\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-74129f6a6c303b25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n- 2 . 用vscode 打开 `eric6start_.log`  文件 (8层深度log文件34W行, pycharm对大文件支持很差);\n![log文件](https://upload-images.jianshu.io/upload_images/10769157-ae946c117a082c24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n发现可以折叠 ， 但是最大可折叠等级只到5级 ， 而且无法对对应等级折叠 ， 有点遗憾 。也许是.log格式选得不太好， 不知道是否有更好的后缀格式。\n- 3 . vscode配置log文件关键字高亮；\n安装高亮插件\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-8f6fee2356d7071d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n配置高亮关键字 \n![image.png](https://upload-images.jianshu.io/upload_images/10769157-a135fd015409b3da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n将`call` 和`return` 给加进去.\n\n- 4 .增加阶段关键字；\n\n![eric6启动阶段](https://upload-images.jianshu.io/upload_images/10769157-c39d01a02149e808.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![image.png](https://upload-images.jianshu.io/upload_images/10769157-aef5704c36824dcc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n加`#000` 是为了方便搜索 。\n需要自己手动折叠 。\n可以发现 每个`splash.showMessage()` 都是一个阶段 ， 展开折叠之后就是每个阶段具体执行细节 。 \n\n---\n\n### ps: vscode 阅读log文件还是有一些不方便的地方 , 除了在2.中提到的, 还有包括关闭文件再打开, 折叠状态不会保留 , 有其他更好的方式 请留言告诉我 , 谢谢.\n","categories":[{"name":"随笔","path":"api/categories/随笔.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"debug","path":"api/tags/debug.json"},{"name":"snoop","path":"api/tags/snoop.json"}]}