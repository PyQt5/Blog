{"author":"Irony","title":"PyQt5编译QWebView与QWebEngineView共存","slug":"webviewnew","date":"2019-01-12 19:28:06","updated":"2020-02-21T15:25:15.492Z","comments":true,"path":"api/articles/webviewnew.json","url":"https://pyqt5.com/webviewnew.html","excerpt":"在PyQt5.5过后移除了QWebView控件，改用QWebEngineView，但是这个刚开始用起来不是很方便，最近在整理一些例子的时候需要同时使用QWebView和QWebEngineView，故希望把QWebView重新加入到后面的PyQt5版本中，查看PyQt5.10.1的源码发现里面其实是有QWebView的，只是因为Qt5.10.1中没有编译好的dll等导致无法编译。<br>","covers":null,"content":"<p>在PyQt5.5过后移除了<code>QWebView</code>控件，改用<code>QWebEngineView</code>，但是这个刚开始用起来不是很方便，最近在整理一些例子的时候需要同时使用<code>QWebView</code>和<code>QWebEngineView</code>，故希望把<code>QWebView</code>重新加入到后面的PyQt5版本中，查看PyQt5.10.1的源码发现里面其实是有<code>QWebView</code>的，只是因为Qt5.10.1中没有编译好的dll等导致无法编译。<br><a id=\"more\"></a></p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ol>\n<li>安装VS2015</li>\n<li>安装Qt5.10.1</li>\n<li>前往 <a href=\"https://github.com/annulen/webkit/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/annulen/webkit/releases</a> 下载对应的文件，比如：qtwebkit-5.212.0_alpha2-qt59-msvc2015-x86.zip</li>\n<li>下载PyQt5.10.1源码</li>\n<li>下载对应版本的sip源码</li>\n</ol>\n<h2 id=\"编译\"><a href=\"#编译\" class=\"headerlink\" title=\"编译\"></a>编译</h2><ol>\n<li>设置环境变量<code>set PATH=D:\\soft\\Qt\\Qt5.10.1\\5.10.1\\msvc2015\\bin;%PATH%</code></li>\n<li>首先进入vs2015命令行编译sip并安装，<code>python configure.py &amp;&amp; nmake &amp;&amp; nmake install</code></li>\n<li>进入PyQt5.10.1源码编译安装即可</li>\n<li>如果要减少PyQt5.10.1的编译可以试试以下代码</li>\n</ol>\n<pre><code>D:\\soft\\Python35\\python configure.py --confirm-license --no-designer-plugin --no-qml-plugin --disable=dbus --disable=QAxContainer --disable=QtAndroidExtras --disable=QtBluetooth --disable=QtDBus --disable=QtDesigner --disable=Enginio --disable=QtLocation --disable=QtMacExtras --disable=QtMultimedia --disable=QtMultimediaWidgets --disable=QtNfc --disable=QtSerialPort --disable=QtSql --disable=QtSvg --disable=QtTest --disable=QtWinExtras --disable=QtX11Extras --disable=QtXml --disable=QtXmlPatterns --disable=pylupdate --disable=pyrcc\n</code></pre>","raw":"---\nauthor: Irony\ntitle: PyQt5编译QWebView与QWebEngineView共存\ndate: 2019-01-12 19:28:06\ntop: 1\ntags: \n - PyQt\n - QWebView\n - 浏览器\ncategories: 教程\n---\n\n在PyQt5.5过后移除了`QWebView`控件，改用`QWebEngineView`，但是这个刚开始用起来不是很方便，最近在整理一些例子的时候需要同时使用`QWebView`和`QWebEngineView`，故希望把`QWebView`重新加入到后面的PyQt5版本中，查看PyQt5.10.1的源码发现里面其实是有`QWebView`的，只是因为Qt5.10.1中没有编译好的dll等导致无法编译。\n<!-- more -->\n\n## 准备工作\n\n1. 安装VS2015\n2. 安装Qt5.10.1\n3. 前往 https://github.com/annulen/webkit/releases 下载对应的文件，比如：qtwebkit-5.212.0_alpha2-qt59-msvc2015-x86.zip\n4. 下载PyQt5.10.1源码\n5. 下载对应版本的sip源码\n\n## 编译\n\n1. 设置环境变量`set PATH=D:\\soft\\Qt\\Qt5.10.1\\5.10.1\\msvc2015\\bin;%PATH%`\n2. 首先进入vs2015命令行编译sip并安装，`python configure.py && nmake && nmake install`\n3. 进入PyQt5.10.1源码编译安装即可\n4. 如果要减少PyQt5.10.1的编译可以试试以下代码\n\n```\nD:\\soft\\Python35\\python configure.py --confirm-license --no-designer-plugin --no-qml-plugin --disable=dbus --disable=QAxContainer --disable=QtAndroidExtras --disable=QtBluetooth --disable=QtDBus --disable=QtDesigner --disable=Enginio --disable=QtLocation --disable=QtMacExtras --disable=QtMultimedia --disable=QtMultimediaWidgets --disable=QtNfc --disable=QtSerialPort --disable=QtSql --disable=QtSvg --disable=QtTest --disable=QtWinExtras --disable=QtX11Extras --disable=QtXml --disable=QtXmlPatterns --disable=pylupdate --disable=pyrcc\n```","categories":[{"name":"教程","path":"api/categories/教程.json"}],"tags":[{"name":"PyQt","path":"api/tags/PyQt.json"},{"name":"QWebView","path":"api/tags/QWebView.json"},{"name":"浏览器","path":"api/tags/浏览器.json"}]}