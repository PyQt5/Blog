{"author":"人间白头　","title":"在pyqt中使用python全局钩子模块","slug":"pyqt5_hook_key_625781186","date":"2019-07-07 01:37:22","updated":"2020-02-21T15:25:15.492Z","comments":true,"path":"api/articles/pyqt5_hook_key_625781186.json","url":"https://pyqt5.com/pyqt5_hook_key_625781186.html","excerpt":"在某些时候需要为自己的软件增加全局键盘监听，比如软件最小化隐藏后可以通过热键唤醒，又或者比如像QQ一样可以全局热键截图。这里介绍几个方法实现在PyQt中使用Python全局钩子模块实现全局热键功能。","covers":null,"content":"<p>在某些时候需要为自己的软件增加全局键盘监听，比如软件最小化隐藏后可以通过热键唤醒，又或者比如像QQ一样可以全局热键截图。这里介绍几个方法实现在PyQt中使用Python全局钩子模块实现全局热键功能。</p>\n<a id=\"more\"></a>\n<ol>\n<li><code>pyHook3</code></li>\n</ol>\n<p>安装命令 : <code>pip install pyhook3</code></p>\n<p><a href=\"https://blog.csdn.net/q871063970/article/details/86648386\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/q871063970/article/details/86648386</a></p>\n<p>似乎将pyhook支持py3版本的了?  没有太多研究.</p>\n<p>缺点: 只支持win平台.</p>\n<p>2.<code>keyboard</code> &amp; <code>mouse</code></p>\n<p>安装命令: <code>pip install keyboard mouse</code></p>\n<pre><code>\nfrom PyQt5 import  QtGui, QtWidgets, QtCore\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nimport keyboard\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.testBtn = QPushButton(self)\n        layout.addWidget(self.testBtn)\n\n        keyboard.add_hotkey(&#39;ctrl+shift+x&#39;, lambda:print(&#39;triggered&#39;, &#39;hotkey&#39;))\n        keyboard.add_hotkey(&#39;ctrl+shift+c&#39;, self.abc,args=(&#39;aa&#39;,&quot;bb&quot;,&quot;cc&quot;))\n\n    def abc(self,a,b,c):\n        print(a,b,c)\n\nif __name__ == &#39;__main__&#39;:\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n</code></pre><p>更详细例子 : <a href=\"https://github.com/PyQt5/PyQt/blob/63c6376358acb1863313fb5593097e6e0210cad6/Test/%E5%85%A8%E5%B1%80%E7%83%AD%E9%94%AE/HotKey.py\" target=\"_blank\" rel=\"noopener\">pyqt中使用keyboard全局热键</a></p>\n<p>优点: 跨平台 ;</p>\n<p>缺点: 模块名字取得太差, 不容易被发现.</p>\n","raw":"---\nauthor: 人间白头　\ntitle: 在pyqt中使用python全局钩子模块\ndate: 2019-07-07 01:37:22\ntop: 1\ntags:\n - Python\n - pyqt hook key\ncategories: 随笔\n---\n\n在某些时候需要为自己的软件增加全局键盘监听，比如软件最小化隐藏后可以通过热键唤醒，又或者比如像QQ一样可以全局热键截图。这里介绍几个方法实现在PyQt中使用Python全局钩子模块实现全局热键功能。\n\n<!-- more -->\n\n\n1. `pyHook3`\n\n安装命令 : `pip install pyhook3`\n\n[https://blog.csdn.net/q871063970/article/details/86648386](https://blog.csdn.net/q871063970/article/details/86648386)\n\n似乎将pyhook支持py3版本的了?  没有太多研究.\n\n缺点: 只支持win平台.\n\n2.`keyboard` & `mouse`\n\n安装命令: `pip install keyboard mouse`\n```\n\nfrom PyQt5 import  QtGui, QtWidgets, QtCore\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nimport keyboard\nclass Window(QWidget):\n\n    def __init__(self, *args, **kwargs):\n        super(Window, self).__init__(*args, **kwargs)\n        layout = QVBoxLayout(self)\n        self.testBtn = QPushButton(self)\n        layout.addWidget(self.testBtn)\n\n        keyboard.add_hotkey('ctrl+shift+x', lambda:print('triggered', 'hotkey'))\n        keyboard.add_hotkey('ctrl+shift+c', self.abc,args=('aa',\"bb\",\"cc\"))\n\n    def abc(self,a,b,c):\n        print(a,b,c)\n        \nif __name__ == '__main__':\n    import sys\n    from PyQt5.QtWidgets import QApplication\n    app = QApplication(sys.argv)\n    w = Window()\n    w.show()\n    sys.exit(app.exec_())\n```\n\n更详细例子 : [pyqt中使用keyboard全局热键](https://github.com/PyQt5/PyQt/blob/63c6376358acb1863313fb5593097e6e0210cad6/Test/%E5%85%A8%E5%B1%80%E7%83%AD%E9%94%AE/HotKey.py)\n\n优点: 跨平台 ;\n\n缺点: 模块名字取得太差, 不容易被发现.\n","categories":[{"name":"随笔","path":"api/categories/随笔.json"}],"tags":[{"name":"Python","path":"api/tags/Python.json"},{"name":"pyqt hook key","path":"api/tags/pyqt hook key.json"}]}